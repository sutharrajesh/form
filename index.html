<!DOCTYPE html>
<html>
<head>
    <title>Auto Submit Location</title>
</head>
<body>
    <h2>Capturing Your Location...</h2>
    <p>Please wait while your location is submitted.</p>

    <script>
        function submitLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var latitude = position.coords.latitude;
                    var longitude = position.coords.longitude;

                    // Your Google Apps Script Web App URL
                    var endpoint = "https://script.google.com/macros/s/AKfycbzEJwAFFQ27F6oy-nxf2bv7zaHU5rqtQzwybiW4qEvcRYDWD5Be62C4ZO_xUvuW6Qt-8w/exec";

                    // Automatically send location data to the script
                    fetch(endpoint, {
                        method: "POST",
                        headers: { "Content-Type": "application/x-www-form-urlencoded" },
                        body: "latitude=" + latitude + "&longitude=" + longitude
                    })
                    .then(response => response.text())
                    .then(data => {
                        alert("Location submitted successfully!");
                        console.log(data);
                    })
                    .catch(error => {
                        alert("Error submitting location: " + error.message);
                    });
                }, function (error) {
                    alert("Error fetching location: " + error.message);
                });
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }

        // Call the function to get and submit location
        submitLocation();
    </script>
</body>
</html>
